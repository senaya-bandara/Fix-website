<!-- profile.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Fix — Provider profile</title>
  <meta name="description" content="Fix service provider profile page." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: { sans: ['Inter', 'ui-sans-serif', 'system-ui'] },
          colors: {
            fix: {
              50:'#ecfbf3',100:'#d3f6e3',200:'#a8ecc8',300:'#7de1ae',400:'#61d999',
              500:'#4EC67E',600:'#3fb870',700:'#2fa861',800:'#238a4f',900:'#1b6d3f'
            }
          },
          boxShadow: {
            soft: '0 10px 30px rgba(0,0,0,0.08)'
          }
        }
      }
    }
  </script>
  <style>
    html, body { height:100%; }
    .clip-blob { clip-path: path('M40 0C68 0 90 18 100 45c10 27 5 54-12 72S47 139 25 130 0 98 0 70 12 0 40 0z'); }
  </style>
</head>
<body class="text-slate-800 font-sans">
  <!-- Full-page background gradient (same style as index.html) -->
  <div class="fixed inset-0 -z-50">
    <div class="absolute inset-0 bg-gradient-to-br from-[#4EC67E] via-[#1F6D47] to-[#0B3E29]"></div>
    <div class="absolute inset-0 bg-[radial-gradient(60%_80%_at_70%_10%,rgba(255,255,255,0.18),transparent_60%)]"></div>
  </div>

  <!-- Header / Top Bar (copied style from index.html) -->
  <header class="relative">
    <div class="absolute inset-0 -z-10 bg-gradient-to-br from-[#4EC67E] via-[#1F6D47] to-[#0B3E29] opacity-95"></div>
    <div class="absolute right-[-80px] top-[-80px] w-[280px] h-[280px] clip-blob bg-white/10"></div>

    <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <div class="w-10 h-10 rounded-2xl bg-white/90 flex items-center justify-center shadow-soft">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-6 h-6 text-fix-600">
            <path fill="currentColor" d="M5 13h5v6H5zm9-8h5v14h-5zM5 5h5v6H5zm9 10h5v4h-5z"/>
          </svg>
        </div>
        <a href="index.html#home" class="text-white text-2xl font-extrabold tracking-tight">Fix</a>
      </div>

      <div class="hidden md:flex items-center text-white/90 font-medium divide-x divide-white/25">
        <a href="index.html#browse" class="px-3 hover:text-white">Browse</a>
        <a href="index.html#requests" class="px-3 hover:text-white">Requests</a>
        <a href="index.html#become-pro" class="px-3 hover:text-white">Become a Pro</a>
        <a href="index.html#bookings" class="px-3 hover:text-white">My Bookings</a>
        <a href="index.html#emergency" class="px-3 hover:text-white">Emergency Services</a>
      </div>

      <div class="flex items-center gap-3">
        <a href="index.html" class="px-4 py-2 rounded-xl bg-white text-fix-700 font-semibold shadow-soft hover:bg-slate-100">Back to home</a>
      </div>
    </nav>
  </header>

  <!-- Main Profile Content -->
  <main class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-10">
    <section id="profile-root" class="space-y-8">
      <!-- Filled by JavaScript -->
    </section>
  </main>

  <!-- Simple footer strip -->
  <footer class="border-t border-slate-200 bg-white/90 mt-10">
    <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center text-sm text-slate-500">
      <span>© <span id="year"></span> Fix.</span>
      <a href="index.html" class="text-fix-600 hover:underline">Go back to main app →</a>
    </div>
  </footer>

  <script>
    // Same base providers as index.html (ids must match)
    const providers = [
      {
        id: 'p1',
        name: 'Nimali Jayasinghe',
        category: 'Elder care',
        location: 'Colombo',
        rate: 2500,
        rating: 4.9,
        verified: true,
        languages: 'Sinhala, English',
        avatar: 'profile.jpg',
        bio: 'Compassionate caregiver with 6+ years hospital experience. First aid certified.',
        education: [
          'Diploma in Nursing – School of Nursing Colombo',
          'Certificate in Geriatric Care – Ministry of Health, Sri Lanka'
        ],
        certificates: [
          'First Aid & CPR – Red Cross Sri Lanka',
          'Elder Care Specialisation – Private Hospital Colombo'
        ],
        testimonials: [
          '“She cared for my mother with patience and kindness.” – Mrs. Perera',
          '“Very reliable and professional caregiver.” – Dr. Fernando'
        ],
        photos: [
          'https://placehold.co/600x380?text=Elder+care+home+visit'
        ]
      },
      {
        id: 'p2',
        name: 'Ravi Kannan',
        category: 'Electrician',
        location: 'Kandy',
        rate: 1800,
        rating: 4.6,
        verified: false,
        languages: 'Tamil, Sinhala',
        avatar: 'profile.jpg',
        bio: 'Experienced electrician specialising in household wiring, power troubleshooting, lighting installation, and small appliance repairs.',
        education: [
          'NVQ Level 4 in Electrical and Electronic Technology – VTA',
          'Apprenticeship in Domestic Electrical Work – Kandy'
        ],
        certificates: [
          'Government Approved Wireman License',
          'Electrical Safety & PPE Training – OSH Sri Lanka'
        ],
        testimonials: [
          '“Fixed our house wiring issues quickly and safely.” – Jayasinghe Family'
        ],
        photos: [
          'https://placehold.co/600x380?text=Electrical+panel+work'
        ]
      },
      {
        id: 'p3',
        name: 'Ishara Perera',
        category: 'Cleaning',
        location: 'Colombo',
        rate: 1200,
        rating: 4.7,
        verified: true,
        languages: 'Sinhala',
        avatar: 'profile.jpg',
        bio: 'Deep-clean specialist for apartments and offices.',
        education: [
          'Housekeeping Course – VTA',
          'Chemical Safety Workshop – Private Institute'
        ],
        certificates: [
          'Safe Use of Cleaning Chemicals – VTA'
        ],
        testimonials: [
          '“Our apartment is spotless after her visit.” – Mr. Silva'
        ],
        photos: [
          'https://placehold.co/600x380?text=Apartment+deep+clean'
        ]
      },
      {
        id: 'p4',
        name: 'Thushara Ranathunga',
        category: 'Cooking',
        location: 'Gampaha',
        rate: 1500,
        rating: 4.5,
        verified: true,
        languages: 'Sinhala',
        avatar: 'profile.jpg',
        bio: 'Sri Lankan home-cooked meals with vegetarian and custom diet options.',
        education: [
          'Cookery Certificate – SLITHM',
          'Vegetarian Cuisine Training – Private Institute'
        ],
        certificates: [
          'Food Safety & Hygiene – Ministry of Health'
        ],
        testimonials: [
          '“Food was fresh, delicious, and hygienic.” – Karunaratne Family'
        ],
        photos: [
          'https://placehold.co/600x380?text=Sri+Lankan+rice+and+curry'
        ]
      },
      {
        id: 'p6',
        name: 'Dilini Fernando',
        category: 'Babysitting',
        location: 'Colombo',
        rate: 2200,
        rating: 4.9,
        verified: true,
        languages: 'Sinhala, English',
        avatar: 'profile.jpg',
        bio: 'Child-care specialist trained in early childhood development.',
        education: [
          'Diploma in Early Childhood Education',
          'Short Course in Child Psychology'
        ],
        certificates: [
          'CPR & First Aid for Children – Red Cross',
          'Child Safety Training – NGO Programme'
        ],
        testimonials: [
          '“She keeps kids engaged with creative activities.” – Mrs. Rodrigo'
        ],
        photos: [
          'https://placehold.co/600x380?text=Kids+activities'
        ]
      },
      {
        id: 'p8',
        name: 'Ahamed Rizvi',
        category: 'Event staff',
        location: 'Matara',
        rate: 1700,
        rating: 4.3,
        verified: true,
        languages: 'Sinhala, English',
        avatar: 'profile.jpg',
        bio: 'Event waiter and setup crew for weddings and corporate functions.',
        education: [
          'Event Assistant Course – Vocational Institute'
        ],
        certificates: [
          'Food Handling Certificate – Ministry of Health',
          'Event Safety Basics Workshop'
        ],
        testimonials: [
          '“Our wedding ran very smoothly thanks to Ahamed.” – Nadeesha & Nalin'
        ],
        photos: [
          'https://placehold.co/600x380?text=Wedding+buffet+setup'
        ]
      }
    ];

    function fmt(n) {
      return new Intl.NumberFormat('en-LK').format(n);
    }

    function renderProfile() {
      const params = new URLSearchParams(window.location.search);
      const id = params.get('id');
      const root = document.getElementById('profile-root');
      document.getElementById('year').textContent = new Date().getFullYear();

      const p = providers.find(x => x.id === id) || providers[0];

      if (!p) {
        root.innerHTML = `
          <div class="bg-white/90 rounded-2xl p-8 shadow-soft text-center">
            <h1 class="text-2xl font-extrabold text-slate-900 mb-2">Provider not found</h1>
            <p class="text-slate-600 mb-4">The profile you are looking for does not exist.</p>
            <a href="index.html#browse" class="px-4 py-2 rounded-xl bg-fix-600 text-white font-semibold hover:bg-fix-700 inline-block">Go back to browse</a>
          </div>
        `;
        return;
      }

      document.title = `${p.name} – Fix provider profile`;

      const educationHTML = p.education && p.education.length
        ? `<ul class="list-disc pl-5 space-y-1 text-slate-700">
             ${p.education.map(e => `<li>${e}</li>`).join('')}
           </ul>`
        : `<p class="text-slate-500 text-sm">No education details added yet.</p>`;

      const certificatesHTML = p.certificates && p.certificates.length
        ? `<ul class="list-disc pl-5 space-y-1 text-slate-700">
             ${p.certificates.map(c => `<li>${c}</li>`).join('')}
           </ul>`
        : `<p class="text-slate-500 text-sm">No certificates added yet.</p>`;

      const testimonialsHTML = p.testimonials && p.testimonials.length
        ? `<div class="space-y-3">
             ${p.testimonials.map(t => `
               <div class="bg-slate-50 border border-slate-200 rounded-xl p-3 text-sm text-slate-700">
                 ${t}
               </div>
             `).join('')}
           </div>`
        : `<p class="text-slate-500 text-sm">No testimonials added yet.</p>`;

      const galleryHTML = p.photos && p.photos.length
        ? `<div class="grid sm:grid-cols-2 gap-4">
             ${p.photos.map(url => `
               <div class="rounded-xl overflow-hidden border border-slate-200 bg-slate-100">
                 <img src="${url}" alt="Work photo for ${p.name}" class="w-full h-48 object-cover">
               </div>
             `).join('')}
           </div>`
        : `<p class="text-slate-500 text-sm">No photos uploaded yet.</p>`;

      root.innerHTML = `
        <div class="mb-4">
          <a href="index.html#browse" class="inline-flex items-center text-sm text-emerald-100 hover:text-white">
            ← Back to browse providers
          </a>
        </div>

        <div class="bg-white/95 rounded-3xl shadow-soft border border-slate-200 p-6 sm:p-8 space-y-8">
          <!-- Top profile summary -->
          <div class="flex flex-col md:flex-row gap-6">
            <div class="flex flex-col items-center md:items-start gap-3">
              <div class="w-32 h-32 rounded-full bg-white border border-slate-300 overflow-hidden flex items-center justify-center">
                <img 
                  src="${p.avatar}" 
                  onerror="this.src='profile.jpg';"
                  alt="${p.name}" 
                  class="w-full h-full object-cover"
                />
              </div>
              <div class="px-3 py-1 rounded-full bg-emerald-50 text-emerald-700 text-xs font-medium">
                ${p.category}
              </div>
            </div>

            <div class="flex-1 space-y-4">
              <div>
                <h1 class="text-2xl sm:text-3xl font-extrabold text-slate-900">${p.name}</h1>
                <p class="mt-1 text-slate-600">${p.category} • ${p.location}</p>
              </div>

              <div class="flex flex-wrap items-center gap-3 text-sm">
                <div class="flex items-center gap-1 text-yellow-500">
                  <span>★★★★★</span>
                  <span class="text-slate-700">${p.rating}</span>
                </div>
                ${p.verified ? `
                  <span class="px-2 py-0.5 rounded-full bg-emerald-50 text-emerald-700 text-xs font-medium">
                    Verified provider
                  </span>` : `
                  <span class="px-2 py-0.5 rounded-full bg-slate-100 text-slate-600 text-xs font-medium">
                    Not yet verified
                  </span>
                `}
                <span class="text-slate-500">Languages: ${p.languages || 'N/A'}</span>
              </div>

              <div class="flex flex-wrap items-center gap-4">
                <div>
                  <div class="text-xs text-slate-500 uppercase tracking-wide">Rate</div>
                  <div class="text-2xl font-extrabold text-slate-900">LKR ${fmt(p.rate)} <span class="text-base font-medium text-slate-500">/ hour</span></div>
                </div>
                <div class="flex gap-3">
                  <a href="index.html#browse" class="px-4 py-2 rounded-xl bg-fix-600 text-white font-semibold hover:bg-fix-700">
                    Book on Fix
                  </a>
                  <button class="px-4 py-2 rounded-xl border border-slate-300 text-slate-700 font-medium bg-white hover:bg-slate-50">
                    Contact details (demo)
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- About + Education + Certificates -->
          <div class="grid md:grid-cols-2 gap-8">
            <div class="space-y-4">
              <div>
                <h2 class="text-lg font-bold text-slate-900">About</h2>
                <p class="mt-1 text-slate-700">${p.bio || 'No description provided yet.'}</p>
              </div>
              <div>
                <h2 class="text-lg font-bold text-slate-900">Education</h2>
                <div class="mt-2">
                  ${educationHTML}
                </div>
              </div>
            </div>

            <div class="space-y-4">
              <div>
                <h2 class="text-lg font-bold text-slate-900">Certificates</h2>
                <div class="mt-2">
                  ${certificatesHTML}
                </div>
              </div>
              <div>
                <h2 class="text-lg font-bold text-slate-900">Reviews</h2>
                <div class="mt-2">
                  ${testimonialsHTML}
                </div>
              </div>
            </div>
          </div>

          <!-- Gallery / Work photos (can also be used as certificate photos) -->
          <div class="space-y-3">
            <div class="flex items-center justify-between">
              <h2 class="text-lg font-bold text-slate-900">Gallery & certificate photos</h2>
              <span class="text-xs text-slate-500">Demo images only</span>
            </div>
            ${galleryHTML}
          </div>
        </div>
      `;
    }

    document.addEventListener('DOMContentLoaded', renderProfile);
  </script>
</body>
</html>
